<!DOCTYPE html>
<html>

<head>
    <title>URL Shortener</title>
    <style>
        /* Add your custom styles here */
    </style>
</head>

<body>
    <h1>URL Shortener</h1>

    <div class="search-results">
        <form action="/" method="GET">
            <input type="text" name="q" placeholder="Search for a URL" value="<%= searchQuery || '' %>">
            <button type="submit">Search</button>
        </form>

        <% if (shortUrls.length> 0) { %>
            <h2>Search Results:</h2>
            <ul>
                <% shortUrls.forEach((url)=> { %>
                    <li>
                        <p>Short URL: <a href="/<%= url.short %>">
                                <%= url.short %>
                            </a></p>
                        <p>Original URL: <a href="<%= url.full %>">
                                <%= url.full %>
                            </a></p>
                        <p>Clicks: <%= url.clicks %>
                        </p>
                    </li>
                    <% }) %>
            </ul>
            <% } else if (searchQuery) { %>
                <p class="no-results">No search results found.</p>
                <% } %>
    </div>

    <div class="url-list">
        <h2>All URLs:</h2>
        <% if (shortUrls.length> 0) { %>
            <ul>
                <% shortUrls.forEach((url)=> { %>
                    <li>
                        <p>Short URL: <a href="/<%= url.short %>">
                                <%= url.short %>
                            </a></p>
                        <p>Original URL: <a href="<%= url.full %>">
                                <%= url.full %>
                            </a></p>
                        <p>Clicks: <%= url.clicks %>
                        </p>
                    </li>
                    <% }) %>
            </ul>
            <% } else { %>
                <p class="no-results">No shortened URLs yet.</p>
                <% } %>
    </div>

    <div class="create-url">
        <h2>Create Short URL:</h2>
        <form action="/shortUrls" method="POST">
            <input type="url" name="fullUrl" placeholder="Enter a URL" required>
            <input type="text" name="customUrl" placeholder="Custom short URL (optional)">
            <button type="submit">Shorten</button>
        </form>
        <% if (typeof errorMessage !=='undefined' && errorMessage) { %>
            <p class="error">
                <%= errorMessage %>
            </p>
            <% } %>
    </div>
</body>

</html>